(this["webpackJsonpto-do"]=this["webpackJsonpto-do"]||[]).push([[0],{18:function(e,t,a){e.exports=a(40)},23:function(e,t,a){},38:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),c=a(17),l=a.n(c),s=(a(23),a(5)),r=a(6),i=a(8),m=a(7),d=a(9),u=a(24),h={add:o.a.createElement(u,{className:"col-2",name:"plus-circle",size:"3x",style:{color:"orange"}}),logo:o.a.createElement(u,{className:"col-2",name:"optin-monster",size:"5x",style:{color:"orange"}}),edit:o.a.createElement(u,{className:"col-2",name:"underline",size:"lg",style:{color:"orange"}}),comment:o.a.createElement(u,{className:"col-2",name:"comment",size:"lg",style:{color:"orange"}}),delete:o.a.createElement(u,{className:"col-2",name:"trash",size:"lg",style:{color:"orange"}}),save:o.a.createElement(u,{className:"col-2",name:"save",size:"2x",style:{color:"orange"}}),comments:o.a.createElement(u,{className:"col-2",name:"comments",size:"lg",style:{color:"orange"}}),settings:o.a.createElement(u,{className:"col-2",name:"cogs",size:"3x",style:{color:"orange"}}),database:o.a.createElement(u,{className:"col-2",name:"database",size:"3x",style:{color:"orange"}}),localhost:o.a.createElement(u,{className:"col-2",name:"laptop",size:"3x",style:{color:"orange"}})},N=function(e){function t(e){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).call(this,e))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.curentNote,t=this.props.saveModifiedNotes;return o.a.createElement("div",{key:e.id,className:"model"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"model__openModalContainer col-8"},o.a.createElement("h3",{className:"model__change"}," Edit note title "),o.a.createElement("input",{className:"col-12 model__change model__changeTitle",defaultValue:e.noteTitle,type:"text"}),o.a.createElement("h3",{className:"model__change"}," Edit note body "),o.a.createElement("textarea",{className:"col-12 model__change model__changeBody",defaultValue:e.noteBody,type:"text"}),o.a.createElement("button",{"data-set":e.id,className:"model__buttonSave model__buttonSave--comment",onClick:t}," ",h.save," "))))}}]),t}(n.Component),p=function(e){function t(e){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).call(this,e))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.curentNote,t=this.props.addComment;return o.a.createElement("div",{key:e.id,className:"model"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"model__openModalContainer col-8"},o.a.createElement("h3",{className:"model__change"}," Title "),o.a.createElement("p",{className:"col-12 model__change model__changeTitle"}," ",e.noteTitle," "),o.a.createElement("h3",{className:"model__change"}," Body "),o.a.createElement("p",{className:"col-12 model__change model__changeBody--comment"}," ",e.noteBody," "),o.a.createElement("div",null,o.a.createElement("input",{className:"col-8 model__author model__author--firstName",placeholder:"Enter first name"}),o.a.createElement("input",{className:"col-8 model__author model__author--secondName",placeholder:"Enter last name"}),o.a.createElement("textarea",{className:"col-12 model__comment",placeholder:"Enter a comment"})),o.a.createElement("button",{"data-set":e.id,className:"model__buttonSave model__buttonSave--comment",onClick:t}," ",h.save," "))))}}]),t}(n.Component),f=function(e){function t(e){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).call(this,e))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.curentNote,t=this.props.closeModal;return o.a.createElement("div",{className:"model"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"model__openModalContainer col-8"},o.a.createElement("h3",{className:"model__change"},"Title"),o.a.createElement("p",{className:"col-12 model__change model__changeTitle"},e.noteTitle),o.a.createElement("h3",{className:"model__change"},"Body"),o.a.createElement("p",{className:"col-12 model__change model__changeBody--comment"},e.noteBody),e.comments.map((function(e){return o.a.createElement("div",{className:"commentContainer"},o.a.createElement("h5",{className:"col-8"},"Author: ",e.author),o.a.createElement("p",{className:"col-12"},"Comment: ",e.comment),o.a.createElement("p",{className:"col-12 comentDate"},"Date: ",e.date))})),o.a.createElement("button",{"data-set":e.id,onClick:t,className:"model__buttonSave model__buttonSave--comment"},h.save))))}}]),t}(n.Component),v=function(e){function t(e){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).call(this,e))}return Object(d.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.SelectedDataBase,t=this.props.SelectedLocalStorage;return o.a.createElement("div",{className:"model"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"model__openModalContainer model__openModalContainer--settings col-8"},o.a.createElement("h3",{className:"model__change"},"Choose a provider to save data"),o.a.createElement("div",{className:"model__buttonContainer"},o.a.createElement("div",null,o.a.createElement("button",{onClick:e,title:"Save in database",className:"model__buttonContainer--button"},h.database),o.a.createElement("strong",null,"Firebase")),o.a.createElement("div",null,o.a.createElement("button",{onClick:t,title:"Save in LocalStorage",className:"model__buttonContainer--button"},h.localhost),o.a.createElement("strong",null,"LocalStorage"))),o.a.createElement("button",{title:"Close Window",className:"model__buttonSave"},h.save," "))))}}]),t}(n.Component),g=a(10),E=(g.initializeApp({apiKey:"AIzaSyAnWuL9d1PVM79rlD0-aWOyp-eRKq1Asz0",authDomain:"todo-list-b4fe4.firebaseapp.com",databaseURL:"https://todo-list-b4fe4.firebaseio.com",projectId:"todo-list-b4fe4",storageBucket:"todo-list-b4fe4.appspot.com",messagingSenderId:"404044215113",appId:"1:404044215113:web:7aaff00481fefa45332098"}),a(38),a(39)),_=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).id=E(),a.save=function(){var e=document.querySelector(".inputTitle").value,t=document.querySelector(".enterTextContent").value;if(a.state.choiseDataBase)g.database().ref("notes").push({noteTitle:e,noteBody:t}),g.database().ref("notes").once("value").then((function(e){a.state.notes.push(e.val())}));else{a.state.notes.push({id:E(),noteTitle:e,noteBody:t,comments:[]});var n=JSON.stringify(a.state.notes);localStorage.setItem("myKey",n)}},a.deleteNote=function(e){var t=e.currentTarget.dataset.set;if(a.state.choiseDataBase){g.database().ref("notes").child(t).remove();var n=a.state.notes.findIndex((function(e){return e.id===t}));a.setState(a.state.notes.splice(n,1))}else{var o=JSON.parse(localStorage.getItem("myKey")),c=o.findIndex((function(e){return e.id===t}));o.splice(c,1);var l=JSON.stringify(o);localStorage.setItem("myKey",l),a.setState(a.state.notes.splice(c,1))}},a.editNoteInDB=function(){var e=a.state.curentNote;g.database().ref("notes").child(e.id).update({noteTitle:e.noteTitle,noteBody:e.noteBody})},a.SelectedDataBase=function(){var e=JSON.stringify({choiseLocalStorage:!1,choiseDataBase:!0});localStorage.setItem("curentSelect",e),a.state.choiseLocalStorage=!1,a.state.choiseDataBase=!0,a.state.notes=[],a.closeModal(),a.componentDidMount()},a.SelectedLocalStorage=function(){var e=JSON.stringify({choiseLocalStorage:!0,choiseDataBase:!1});localStorage.setItem("curentSelect",e),a.state.choiseLocalStorage=!0,a.state.choiseDataBase=!1,a.state.notes=[],a.closeModal(),a.componentDidMount()},a.curentTime=function(){var e=new Date;return e.toLocaleDateString().concat(" ",e.toLocaleTimeString())},a.renderNotes=function(){return a.state.notes.map((function(e){return o.a.createElement("div",{className:"col-3 note"},o.a.createElement("div",null,o.a.createElement("h2",{className:"noteTitle col-12"}," ",e.noteTitle),o.a.createElement("p",{className:"noteBody col-12"}," ",e.notebBody," ")),o.a.createElement("div",{className:"iconsContainer col-12"},o.a.createElement("button",{title:"Edit note","data-set":e.id,onClick:function(e){return a.editNote(e)},className:"iconButton col-3"},h.edit),o.a.createElement("button",{title:"Leave a comment","data-set":e.id,onClick:function(e){return a.leaveComment(e)},className:"iconButton col-3"},h.comment),o.a.createElement("button",{title:"Delete note","data-set":e.id,onClick:function(e){return a.deleteNote(e)},className:"iconButton col-3"},h.delete),o.a.createElement("button",{onClick:function(e){return a.openNotes(e)},title:"View comments","data-set":e.id,className:"iconButton col-3 buttonComments"},h.comments,o.a.createElement("span",{className:"numbersComments"},e.comments.length))))}))},a.changeNote=function(e){var t=e.currentTarget.dataset.set,n=a.state.notes.find((function(e){return e.id===t}));a.setState({curentNote:n})},a.saveModifiedNotes=function(e){var t=document.querySelector(".model__changeTitle").value,n=document.querySelector(".model__changeBody").value,o=e.currentTarget.dataset.set,c=a.state.notes.find((function(e){return e.id===o})),l=c.noteTitle=t,s=c.noteBody=n;if(a.state.choiseDataBase)a.setState({clickedEdit:!1,noteTitle:l,noteBody:s,curentNoteId:o}),a.editNoteInDB(e);else{var r=JSON.stringify(a.state.notes);localStorage.setItem("myKey",r),a.setState({clickedEdit:!1})}},a.modalWindow=function(){var e=a.state,t=e.clickedEdit,n=e.clickedComent,c=e.openNote,l=e.clickedSettings,s=N,r=p,i=f,m=v,d=a.state.curentNote;return o.a.createElement(o.a.Fragment,null,t?o.a.createElement(s,{saveModifiedNotes:a.saveModifiedNotes,curentNote:d}):null,n?o.a.createElement(r,{addComment:function(e){return a.addComment(e)},curentNote:d}):null,c?o.a.createElement(i,{closeModal:a.closeModal,curentNote:d}):null,l?o.a.createElement(m,{SelectedLocalStorage:a.SelectedLocalStorage,SelectedDataBase:a.SelectedDataBase}):null)},a.openWindow=function(e){a.modalWindow(e)},a.editNote=function(e){a.changeNote(e),a.setState({clickedEdit:!0})},a.leaveComment=function(e){a.changeNote(e),a.setState({clickedComent:!0})},a.openNotes=function(e){a.changeNote(e),a.setState({openNote:!0})},a.closeModal=function(){a.setState({openNote:!1}),a.setState({clickedSettings:!1})},a.openSettings=function(e){e.preventDefault(),a.setState({clickedSettings:!0})},a.toUpperCase=function(e){var t=e.currentTarget.dataset.set,n=a.state.notes.find((function(e){return e.id===t})).comments;for(var o in n){for(var c=n[o].author.split(" "),l="",s=0;s<c.length;s++){var r=c[s];l+=r.substring(0,1).toUpperCase()+r.substring(1,r.length)+" "}n[o].author=l}},a.addComment=function(e){var t=a.state.curentNote,n=a.state.notes.find((function(e){return e.id===t.id})),o=document.querySelector(".model__author--firstName").value,c=document.querySelector(".model__author--secondName").value,l=document.querySelector(".model__comment").value,s={id:t.id,author:o+"  "+c,comment:l,date:a.curentTime()};if(""===o||""===c||""===l?alert("All fields must be filled"):a.setState({clickedComent:!1,clickedEdit:!1})||n.comments.push(s),a.setState({openNote:!1}),a.toUpperCase(e),a.state.choiseDataBase)g.database().ref("notes").child(t.id).push(s);else{var r=JSON.stringify(a.state.notes);localStorage.setItem("myKey",r)}},a.state={notes:[],isActive:!1,clickedEdit:!1,clickedComent:!1,openNote:!1,choiseLocalStorage:!1,choiseDataBase:!1},a}return Object(d.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=JSON.parse(localStorage.getItem("curentSelect"));null!==e&&this.setState({choiseDataBase:e.choiseDataBase,choiseLocalStorage:e.choiseLocalStorage})}},{key:"componentDidMount",value:function(){var e=this;if(this.state.choiseDataBase)this.setState({choiseLocalStorage:!1,choiseDataBase:!0}),g.database().ref("notes").once("value").then((function(t){t.forEach((function(t){e.state.notes.push({id:t.key,noteTitle:t.val().noteTitle,noteBody:t.val().noteBody,comments:[]});var a=function(a){e.state.notes.map((function(e){return e.id===t.key&&void 0!==t.val()[a].author?e.comments.push({author:t.val()[a].author,comment:t.val()[a].comment,date:t.val()[a].date}):null}))};for(var n in t.val())a(n);e.renderNotes(),e.setState({})}))}));else{var t=JSON.parse(localStorage.getItem("myKey"));this.setState({choiseLocalStorage:!0,choiseDataBase:!1}),null===t?this.renderNotes():t.map((function(t){e.state.notes.push({id:t.id,noteTitle:t.noteTitle,noteBody:t.noteBody,comments:[]}),t.comments.map((function(a){e.state.notes.map((function(e){return e.id===t.id?e.comments.push({author:a.author,comment:a.comment,date:a.date}):null}))})),console.log(e.state),e.renderNotes(),e.setState({})}))}}},{key:"render",value:function(){var e=this,t=this.renderNotes,a=this.modalWindow;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{key:E(),className:"container-fluid"},o.a.createElement("div",{key:E(),className:"col-2 logo"},h.logo),o.a.createElement("form",{key:E(),className:"container"},o.a.createElement("input",{className:"col-8 inputTitle",placeholder:"Enter a note name",type:"text"}),o.a.createElement("textarea",{className:"col-8 enterTextContent",placeholder:"Enter note text",type:"text"}),o.a.createElement("div",{key:E(),className:"containeButtons"},o.a.createElement("button",{className:"containeButtons__button",title:"Add note",onClick:function(t){return e.save(t)}},h.add),o.a.createElement("button",{key:E(),title:"Settings",onClick:function(t){return e.openSettings(t)},className:"containeButtons__button"},h.settings))),o.a.createElement("div",{key:E(),className:"container-fluid"},o.a.createElement("div",{key:E(),className:"notesContainer"},o.a.createElement(t,{key:E()}))),o.a.createElement(a,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[18,1,2]]]);
//# sourceMappingURL=main.b5da819e.chunk.js.map